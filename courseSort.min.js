var Exports={Modules:{}};
Exports.Modules=function(b,g){var e="year=2015",h=window.location.href.split("?")[0];init=function(){openPanels();initFilters()};openPanels=function(){if(0<b(".course-filter").find(".coursebuttonselected").length){var c=b(".coursebuttonselected").parents("div.panel-default");b(c).find("[data-toggle]").attr("data-toggle","no-collapse").removeClass("collapsed");b(c).find(".panel-collapse").addClass("in")}};initFilters=function(){b(".coursebuttonblack").click(function(c){event.preventDefault();b(".coursebuttonselected").toggleClass("coursebutton coursebuttonselected");
b("[data-toggle='no-collapse']").attr("data-toggle","collapse").addClass("collapsed").attr("aria-expanded","false");b(".panel-collapse").removeClass("in").attr("aria-expanded","false");b(".course-filter").each(function(){b(this).hasClass("collapsed")||b(this).addClass("collapsed").attr("aria-expanded","false")});changeURL("");courseCount()});b(".panel-body div").click(function(c){c.preventDefault();b(this).toggleClass("coursebutton coursebuttonselected");buildArray()});b("form[name=course-search]").on("submit",
function(c){c.preventDefault();b(this).find("[name=query]");buildArray()});b(".coursedropdown li").click(function(c){event.preventDefault();b(this).find("a").attr("href").replace("/content/gallatin/en/academics/courses.html?","").replace(/ /g,"");buildArray()});b(".panel-body div").click(function(c){c=b(this).parents("div.panel-default").find("[data-toggle]");0<b(this).parents("div.panel-default").find(".coursebuttonselected").length?b(c).attr("data-toggle","no-collapse"):b(c).attr("data-toggle",
"collapse")})};buildArray=function(c){e=[];b(".coursebuttonselected").find("a").each(function(){var c=[b(this).attr("href").replace("/content/gallatin/en/academics/courses.html?","")];e.push(c)});var f=b("form[name=course-search]").find("[name=query]").val();""!=f&&(f=("query="+f).replace(" ","+"),e.push(f));c!==g&&e.push(c);e=e.join("&");changeURL(e);callAPI(e);return e};changeURL=function(b){history.pushState&&history.pushState(null,null,h+"?"+b);return!1};callAPI=function(c){b.getJSON("/content/gallatin/en/academics/courses/jcr:content/content/search.json?"+
c,function(c){var d="",e=0;b.each(c,function(b,a){e++;null==a["foundation-libarts"]&&(a["foundation-libarts"]="");null==a["foundation-histcult"]&&(a["foundation-histcult"]="");null==a.times&&(a.times="");null==a.times2&&(a.times2="");d+="<table><thead><tr><th>"+a.course+"</th><th>Lib Arts<br>"+a["foundation-libarts"]+"</th><th>Hist &amp; Cult<br>"+a["foundation-histcult"]+"<br></th><th>"+a.term+" "+a.year+'</th></tr></thead><tbody><tr><td colspan="4"><h3>'+a.title+"</h3></td></tr><tr><td>"+a.credit+
" units</td><td>"+a.days+"<br />"+a.times+"<br />"+a.days2+"<br />"+a.times2+"</td><td>";if(a.instructors!==g){var c=Object.keys(a.instructors[0])[0],f=a.instructors[0][c];d+='<a href="'+f+'">'+c+"</a>";1<a.instructors&&(c=Object.keys(a.instructors[1])[0],f=a.instructors[1][c],d+='<br /><a href="'+f+'">'+c+"</a>")}d+='</td><td></td></tr><tr><td colspan="4"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-parent="#accordion" data-toggle="collapse" href="#'+
a.course+a.term+a.year+'"></a></h4></div><div class="panel-collapse collapse" id="'+a.course+a.term+a.year+'"><div class="panel-body"><p><strong>Description</strong></p>'+a.description+"<hr><p><strong>Type</strong></p><p>"+a.type;a.notes&&(d+="<hr><p><strong>Note</strong></p><p>"+a.notes+"</p>");a.syllabus&&(d+='<hr><p><strong>Syllabus</strong></p><p><a href="'+a.syllabus+'">Link</a></p>');d+="</div></div></div></td></tr></tbody></table>"});b(".courseList").html(d);courseCount(e)})};courseCount=function(c){c!==
g&&b(".showing-courses").text(function(b,d){return d.replace(/\d+/,c)})};return{init:init}}(jQuery);$(document).ready(function(){Exports.Modules.init()});
